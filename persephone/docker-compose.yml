version: "3.9"

services:
  controller:
    build:
      context: ..
      dockerfile: persephone/docker/controller.Dockerfile
    environment:
      PERSEPHONE_API_KEY: dev-secret
      PERSEPHONE_CATALOG_MODE: mock
      PERSEPHONE_IMAGE_AGENT: registry/persephone-agent:0.1
      PERSEPHONE_REQUEST_TIMEOUT_S: 900
    ports:
      - "8000:8000"
